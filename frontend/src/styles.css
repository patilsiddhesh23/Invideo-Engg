/* ---------- CSS THEME ---------- */
:root {
  --bg: #0d0f17;
  --bg-alt: #161b27;
  --bg-panel: #1e2533;
  --border: #2d3748;
  --border-glow: #4f6aff;
  --text: #e6edf3;
  --text-dim: #93a1b5;
  --accent: linear-gradient(135deg,#5d5aff,#8a5dff 40%,#ff5fb7);
  --accent-solid: #6f63ff;
  --radius-s: 4px;
  --radius-m: 10px;
  --shadow-elev: 0 4px 12px -2px rgba(0,0,0,.5), 0 2px 4px -1px rgba(0,0,0,.4);
  font-family: 'Inter', system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Fira Sans', 'Droid Sans', 'Helvetica Neue', Arial, sans-serif;
}

html, body, #root { height: 100%; }
body { margin:0; background: radial-gradient(circle at 30% 20%, #182132, #0d0f17 60%); color: var(--text); -webkit-font-smoothing: antialiased; }

/* Scrollbars */
* { scrollbar-width: thin; scrollbar-color: #3b4458 transparent; }
*::-webkit-scrollbar { width:8px; height:8px; }
*::-webkit-scrollbar-track { background: transparent; }
*::-webkit-scrollbar-thumb { background: #2e3747; border-radius: 20px; }
*::-webkit-scrollbar-thumb:hover { background: #3f4b63; }

.app-shell { max-width: 1200px; margin: 0 auto; padding: 2.5rem 2rem 3rem; display:flex; flex-direction:column; gap:1.75rem; }
.app-header { text-align:center; }
.gradient-text { background: var(--accent); -webkit-background-clip: text; background-clip:text; color: transparent; font-size: clamp(1.75rem,4.5vw,3.1rem); margin:0 0 .4rem; font-weight:700; letter-spacing:.5px; }
.subtitle { margin:0; color: var(--text-dim); font-size:.95rem; }

/* Tabs */
.tabs { position:relative; display:inline-flex; gap:.25rem; background:rgba(255,255,255,.04); padding:.4rem; border-radius: 1000px; align-self:center; backdrop-filter: blur(6px); }
.tab-button { position:relative; z-index:1; cursor:pointer; border:0; background:transparent; color:var(--text-dim); font-weight:500; padding:.6rem 1.15rem; border-radius: 1000px; font-size:.85rem; letter-spacing:.5px; transition: color .25s; }
.tab-button:hover { color: var(--text); }
.tab-button.active { color:#fff; text-shadow:0 0 8px rgba(120,120,255,.5); }
.tabs-indicator { position:absolute; inset:4px; width:50%; border-radius:1000px; background:var(--accent); background-size:200% 200%; animation: accentShift 6s linear infinite; transition: transform .4s cubic-bezier(.4,.2,.2,1); box-shadow:0 0 0 1px rgba(255,255,255,.08),0 4px 14px -4px rgba(88,85,255,.6); }
.tabs-indicator[data-pos='shader'] { transform: translateX(100%); }
@keyframes accentShift { 0%{background-position:0 50%} 50%{background-position:100% 50%} 100%{background-position:0 50%} }

.content-area { display:flex; flex-direction:column; gap:2rem; }

/* Panels */
.panel { background: linear-gradient(145deg, rgba(255,255,255,0.04), rgba(255,255,255,0.01)); border:1px solid rgba(255,255,255,0.08); border-radius: var(--radius-m); padding:1.5rem 1.75rem 2rem; box-shadow: var(--shadow-elev); position:relative; overflow:hidden; }
.panel:before { content:""; position:absolute; inset:0; background:linear-gradient(160deg,rgba(255,255,255,.07),transparent 55%); mix-blend-mode:overlay; opacity:.6; pointer-events:none; }
.panel-header { display:flex; align-items:center; gap:.75rem; justify-content:space-between; margin-bottom:1rem; flex-wrap:wrap; }
.panel-title { margin:0; font-size:1.15rem; font-weight:600; letter-spacing:.5px; }

/* Badges */
.badge { font-size:.65rem; font-weight:600; letter-spacing:.5px; text-transform:uppercase; padding:.35rem .55rem; border-radius:6px; background:#273040; color:var(--text-dim); display:inline-flex; align-items:center; gap:.4ch; line-height:1; box-shadow:0 0 0 1px rgba(255,255,255,.08); }
.badge-ok { background: linear-gradient(135deg,#1f8f4d,#25b46b); color:#fff; }
.badge-warn { background: linear-gradient(135deg,#925500,#c96d00); color:#fff; }
.badge-info { background: linear-gradient(135deg,#304bff,#7a36ff); color:#fff; }

/* Forms */
.form-grid { display:grid; grid-template-columns: repeat(auto-fit, minmax(120px,1fr)); gap:1rem .85rem; align-items:end; }
.field { display:flex; flex-direction:column; gap:.25rem; font-size:.7rem; font-weight:600; text-transform:uppercase; letter-spacing:.8px; color:var(--text-dim); }
.field input { background:#111722; color:var(--text); border:1px solid #2a3443; border-radius: var(--radius-s); padding:.55rem .65rem; font:inherit; font-size:.85rem; outline:none; transition: border-color .25s, background .25s; }
.field input:focus { border-color: var(--accent-solid); background:#162132; box-shadow:0 0 0 2px rgba(110,103,255,.35); }
.span2 { grid-column: span 2; }
.actions { display:flex; }

/* Buttons */
.btn { --btn-bg:#273248; --btn-bg-h:#324163; cursor:pointer; border:1px solid #34425c; background:var(--btn-bg); color:var(--text); font:inherit; font-size:.8rem; padding:.7rem 1.15rem; border-radius: 8px; font-weight:600; letter-spacing:.6px; display:inline-flex; align-items:center; gap:.6ch; position:relative; overflow:hidden; transition: background .25s, transform .15s; }
.btn:hover { background:var(--btn-bg-h); }
.btn:active { transform:translateY(2px); }
.btn.primary { background: var(--accent); border:1px solid rgba(255,255,255,.15); color:#fff; box-shadow:0 4px 18px -4px rgba(122,96,255,.6), 0 2px 6px -2px rgba(0,0,0,.7); }
.btn.primary:hover { filter:brightness(1.1); }
.btn:disabled { opacity:.4; cursor:not-allowed; box-shadow:none; }

/* Result block */
.result-block { margin-top:1.3rem; border:1px solid #2a3443; background:#121924; border-radius: var(--radius-s); padding:.85rem 1rem; }
.result-block pre { margin:0; font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", monospace; font-size:.75rem; line-height:1.45; white-space:pre-wrap; color:#8af7c3; text-shadow:0 0 4px rgba(0,255,180,.25); }

/* Shader Lab */
.shader-controls { display:flex; gap:.75rem; flex-wrap:wrap; margin-bottom:1.1rem; }
.shader-controls .prompt { flex:1 1 280px; min-width:240px; background:#111722; border:1px solid #2b3747; border-radius: var(--radius-s); padding:.7rem .75rem; font:inherit; font-size:.85rem; color:var(--text); }
.shader-controls .prompt:focus { outline:none; border-color: var(--accent-solid); box-shadow:0 0 0 2px rgba(111,99,255,.4); }
.shader-layout { display:flex; flex-direction:column; gap:1.2rem; }
@media (min-width: 960px) { .shader-layout { flex-direction:row; } }
.canvas-wrap { flex: 1 1 60%; position:relative; background:#05070c; border:1px solid #2a3443; border-radius: var(--radius-s); overflow:hidden; }
.canvas-wrap canvas { width:100%; height:100%; display:block; aspect-ratio: 16/9; }
.code-wrap { flex:1 1 40%; display:flex; flex-direction:column; }
.code-wrap pre { margin:0; flex:1; background:#0d121a; border:1px solid #2a3443; border-radius: var(--radius-s); padding:.85rem 1rem; font-size:.7rem; line-height:1.4; font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", monospace; color:#b8d4ff; overflow:auto; }

/* Error details panel */
.error-details { margin-top:1.2rem; background:#211a1d; border:1px solid #55313a; border-left:4px solid #e85472; border-radius: var(--radius-s); padding:.9rem 1rem 1.05rem; animation: fadeIn .35s ease; box-shadow:0 4px 18px -6px rgba(0,0,0,.6), 0 0 0 1px rgba(255,255,255,.04); }
.error-details-header { display:flex; align-items:center; justify-content:space-between; margin-bottom:.5rem; font-size:.75rem; letter-spacing:.6px; text-transform:uppercase; color:#ff9fb1; }
.error-details pre { margin:0; max-height:220px; overflow:auto; font-size:.65rem; line-height:1.35; color:#ffc7d1; background:transparent; padding:0; }
@keyframes fadeIn { from { opacity:0; transform:translateY(-4px);} to { opacity:1; transform:translateY(0);} }

/* Footer */
.app-footer { margin-top:1rem; text-align:center; font-size:.65rem; letter-spacing:.7px; color:#5f6f85; text-transform:uppercase; }
.accent { background:var(--accent); -webkit-background-clip:text; background-clip:text; color:transparent; font-weight:600; }

/* Utility */
.visually-hidden { position:absolute; width:1px; height:1px; margin:-1px; padding:0; border:0; clip:rect(0 0 0 0); overflow:hidden; }

/* Focus outline */
*:focus-visible { outline:2px solid var(--accent-solid); outline-offset:2px; }

/* Animations subtle */
.panel, .btn, .tab-button { transition: background .3s, border-color .3s, box-shadow .3s; }
.panel:hover { box-shadow:0 6px 24px -6px rgba(0,0,0,.65), 0 4px 8px -2px rgba(0,0,0,.5); }
